<!DOCTYPE html>
<html lang="zh-HK">
<head>
  <meta charset="UTF-8">
  <title>應買股數計算器</title>
</head>
<body>
  <h2>應買股數計算器</h2>
  <label>止蝕資金: <input type="number" id="stopLossFund"></label><br>
  <label>現價: <input type="number" id="currentPrice"></label><br>
  <label>止蝕價: <input type="number" id="stopLossPrice"></label><br>
  <button onclick="calculate()">計算</button>
  <p id="result"></p>
  <script>
    function calculate() {
      const stopLossFund = parseFloat(document.getElementById('stopLossFund').value);
      const currentPrice = parseFloat(document.getElementById('currentPrice').value);
      const stopLossPrice = parseFloat(document.getElementById('stopLossPrice').value);

      if (isNaN(stopLossFund) || isNaN(currentPrice) || isNaN(stopLossPrice)) {
        document.getElementById('result').innerText = '請輸入所有數值。';
        return;
      }
      if (currentPrice <= stopLossPrice) {
        document.getElementById('result').innerText = '現價必須大於止蝕價。';
        return;
      }

      const shareCount = stopLossFund / (currentPrice - stopLossPrice);
      const requiredCapital = shareCount * currentPrice;

      document.getElementById('result').innerText =
        `應買股數：${shareCount.toFixed(2)} 股\n` +
        `所需資金：${requiredCapital.toFixed(2)} 元`;
    }
  </script>
</body>
</html>
